"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("../../utils");
const build_1 = require("../build");
class BundleCommand extends build_1.default {
    get commands() {
        const parsed = this.parse(BundleCommand);
        return [
            utils_1.buildCommand(`rollup --config ${utils_1.getConfigFilePath('rollup.config.js')}`, {
                rawArgs: parsed.raw,
                flags: Object.keys(BundleCommand.flags),
            }),
            utils_1.buildCommand(`tsc --declaration --emitDeclarationOnly -p ${utils_1.getConfigFilePath('tsconfig.build.json')}`),
        ];
    }
    preparePackageJson() {
        const pkg = super.preparePackageJson();
        pkg.main = 'index.cjs.js';
        pkg.module = 'index.es.js';
        return pkg;
    }
}
exports.default = BundleCommand;
BundleCommand.strict = false;
BundleCommand.description = 'Bundle source code';
BundleCommand.examples = [`$ sl-scripts bundle`];
//# sourceMappingURL=index.js.map