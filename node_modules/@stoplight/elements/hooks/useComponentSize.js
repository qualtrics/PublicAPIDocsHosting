"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const lodash_1 = require("lodash");
const React = tslib_1.__importStar(require("react"));
function getSize(el) {
    return el ? el.getBoundingClientRect() : new DOMRect();
}
function useComponentSize(componentRef) {
    const currentComponentNode = componentRef.current;
    const [componentSize, setComponentSize] = React.useState(getSize(currentComponentNode));
    React.useLayoutEffect(() => {
        if (!currentComponentNode) {
            return;
        }
        const updateComponentSize = lodash_1.throttle(() => currentComponentNode && setComponentSize(getSize(currentComponentNode)), 1000, {
            trailing: true,
        });
        updateComponentSize();
        window.addEventListener('resize', updateComponentSize);
        return () => {
            updateComponentSize.cancel();
            window.removeEventListener('resize', updateComponentSize);
        };
    }, [currentComponentNode]);
    return componentSize;
}
exports.useComponentSize = useComponentSize;
//# sourceMappingURL=useComponentSize.js.map