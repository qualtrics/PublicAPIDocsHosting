"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const React = tslib_1.__importStar(require("react"));
const Search_1 = require("../components/Search");
const hooks_1 = require("../hooks");
const useProjectSearch_1 = require("../hooks/useProjectSearch");
exports.Search = ({ placeholder, srn, isOpen, onClose, group, limit }) => {
    var _a;
    const [query, updateQuery] = React.useState('');
    const debouncedQuery = hooks_1.useDebounce(query, 500);
    const { data, isValidating, error } = useProjectSearch_1.useProjectSearch(debouncedQuery, srn, { group, limit, skip: !isOpen || !srn });
    const handleChange = React.useCallback(e => {
        updateQuery(e.target.value);
    }, []);
    const handleReset = React.useCallback(() => {
        updateQuery('');
    }, []);
    return (React.createElement(Search_1.Search, { placeholder: placeholder, query: query, onChange: handleChange, nodes: (_a = data) === null || _a === void 0 ? void 0 : _a.items, isOpen: isOpen, onClose: onClose, onReset: handleReset, isLoading: isValidating, error: error }));
};
//# sourceMappingURL=Search.js.map